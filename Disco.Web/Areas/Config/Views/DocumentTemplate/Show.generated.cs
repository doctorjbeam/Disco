#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Disco.Web.Areas.Config.Views.DocumentTemplate
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Disco;
    
    #line 2 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
    using Disco.BI.DocumentTemplateBI.ManagedGroups;
    
    #line default
    #line hidden
    using Disco.BI.Extensions;
    using Disco.Models.Repository;
    using Disco.Services;
    using Disco.Services.Authorization;
    
    #line 3 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
    using Disco.Services.Interop.ActiveDirectory;
    
    #line default
    #line hidden
    using Disco.Services.Web;
    using Disco.Web;
    
    #line 4 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
    using Disco.Web.Areas.Config.Models.Shared;
    
    #line default
    #line hidden
    using Disco.Web.Extensions;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/Config/Views/DocumentTemplate/Show.cshtml")]
    public partial class Show : Disco.Services.Web.WebViewPage<Disco.Web.Areas.Config.Models.DocumentTemplate.ShowModel>
    {
        public Show()
        {
        }
        public override void Execute()
        {
            
            #line 5 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
  
    Authorization.Require(Claims.Config.DocumentTemplate.Show);

    var canConfig = Authorization.Has(Claims.Config.DocumentTemplate.Configure);

    var hideAdvanced =
        Model.DocumentTemplate.UsersLinkedGroup == null &&
        Model.DocumentTemplate.DevicesLinkedGroup == null &&
        Model.DocumentTemplate.FilterExpression == null &&
        Model.DocumentTemplate.OnGenerateExpression == null &&
        Model.DocumentTemplate.OnImportAttachmentExpression == null &&
        Model.TemplateExpressions.All(e => e.All(p => !p.ParseError));

    #region Can Bulk Generate
    var canBulkGenerate = Authorization.Has(Claims.Config.DocumentTemplate.BulkGenerate);
    if (canBulkGenerate)
    {
        switch (Model.DocumentTemplate.Scope)
        {
            case DocumentTemplate.DocumentTemplateScopes.Device:
                canBulkGenerate = Authorization.Has(Claims.Device.Actions.GenerateDocuments);
                break;
            case DocumentTemplate.DocumentTemplateScopes.Job:
                canBulkGenerate = Authorization.Has(Claims.Job.Actions.GenerateDocuments);
                break;
            case DocumentTemplate.DocumentTemplateScopes.User:
                canBulkGenerate = Authorization.Has(Claims.User.Actions.GenerateDocuments);
                break;
            default:
                throw new InvalidOperationException("Invalid DocumentType Scope");
        }
    }
    #endregion

    ViewBag.Title = Html.ToBreadcrumb("Configuration", MVC.Config.Config.Index(), "Document Templates", MVC.Config.DocumentTemplate.Index(null), Model.DocumentTemplate.Description);

    if (canConfig)
    {
        Html.BundleDeferred("~/ClientScripts/Modules/Disco-PropertyChangeHelpers");
    }

            
            #line default
            #line hidden
WriteLiteral("\r\n<div");

WriteLiteral(" id=\"Config_DocumentTemplates_Show\"");

WriteAttribute("class", Tuple.Create(" class=\"", 2027), Tuple.Create("\"", 2081)
            
            #line 46 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
, Tuple.Create(Tuple.Create("", 2035), Tuple.Create<System.Object, System.Int32>(hideAdvanced ? "Config_HideAdvanced" : null
            
            #line default
            #line hidden
, 2035), false)
);

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"form\"");

WriteLiteral(" style=\"width: 650px; margin: 10px auto 20px;\"");

WriteLiteral(">\r\n        <table>\r\n            <tbody>\r\n                <tr>\r\n                  " +
"  <th>Id:\r\n                    </th>\r\n                    <td>");

            
            #line 53 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(Html.DisplayFor(model => model.DocumentTemplate.Id));

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n       " +
"             <th>Statistics:\r\n                    </th>\r\n                    <td" +
">\r\n                        <strong>");

            
            #line 60 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                           Write(Model.StoredInstanceCount.ToString("n0"));

            
            #line default
            #line hidden
WriteLiteral("</strong> Stored Instance");

            
            #line 60 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                              Write(Model.StoredInstanceCount == 1 ? null : "s");

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n       " +
"             <th>Description:\r\n                    </th>\r\n                    <t" +
"d>");

            
            #line 66 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (canConfig)
                        {
                        
            
            #line default
            #line hidden
            
            #line 68 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(Html.TextBoxFor(model => model.DocumentTemplate.Description));

            
            #line default
            #line hidden
            
            #line 68 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                     
                        
            
            #line default
            #line hidden
            
            #line 69 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 69 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                               
                        
            
            #line default
            #line hidden
            
            #line 70 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 70 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 

            
            #line default
            #line hidden
WriteLiteral("                        <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                            $(function () {
                                document.DiscoFunctions.PropertyChangeHelper(
                                    $('#DocumentTemplate_Description'),
                                    'Description',
                                    '");

            
            #line 76 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                Write(Url.Action(MVC.API.DocumentTemplate.UpdateDescription(Model.DocumentTemplate.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                    \'Description\'\r\n                          " +
"      );\r\n                            });\r\n                        </script>\r\n");

            
            #line 81 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }
                        else
                        {
                            if (string.IsNullOrEmpty(Model.DocumentTemplate.Description))
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;None Specified&gt;</span>\r\n");

            
            #line 87 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            }
                            else
                            {
                        
            
            #line default
            #line hidden
            
            #line 90 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(Model.DocumentTemplate.Description);

            
            #line default
            #line hidden
            
            #line 90 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                           
                            }
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </td>\r\n                </tr>\r\n                <tr>\r\n         " +
"           <th>Always Flatten Form:\r\n                    </th>\r\n                " +
"    <td>");

            
            #line 98 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (canConfig)
                        {

            
            #line default
            #line hidden
WriteLiteral("                        <input");

WriteLiteral(" id=\"DocumentTemplate_FlattenForm\"");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" ");

            
            #line 100 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                             Write(Model.DocumentTemplate.FlattenForm ? new MvcHtmlString("checked=\"checked\" ") : new MvcHtmlString(string.Empty));

            
            #line default
            #line hidden
WriteLiteral("/>\r\n");

            
            #line 101 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 101 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 101 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 

            
            #line default
            #line hidden
WriteLiteral("                        <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                            $(function () {
                                document.DiscoFunctions.PropertyChangeHelper(
                                    $('#DocumentTemplate_FlattenForm'),
                                    null,
                                    '");

            
            #line 107 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                Write(Url.Action(MVC.API.DocumentTemplate.UpdateFlattenForm(Model.DocumentTemplate.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                    \'FlattenForm\'\r\n                          " +
"      );\r\n                            });\r\n                        </script>\r\n");

            
            #line 112 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }
                        else
                        {

            
            #line default
            #line hidden
WriteLiteral("                        <input");

WriteLiteral(" id=\"DocumentTemplate_FlattenForm\"");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" ");

            
            #line 115 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                             Write(Model.DocumentTemplate.FlattenForm ? new MvcHtmlString("checked=\"checked\" ") : new MvcHtmlString(string.Empty));

            
            #line default
            #line hidden
WriteLiteral(" disabled=\"disabled\" />\r\n");

            
            #line 116 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </td>\r\n                </tr>\r\n                <tr>\r\n         " +
"           <th>Scope:\r\n                    </th>\r\n                    <td>\r\n    " +
"                    <h4>");

            
            #line 123 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                       Write(Model.DocumentTemplate.Scope);

            
            #line default
            #line hidden
WriteLiteral(" Scope</h4>\r\n                        <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                            <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                                <i");

WriteLiteral(" class=\"fa fa-info-circle\"");

WriteLiteral("></i>This template is generated from ");

            
            #line 126 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                             Write(Model.DocumentTemplate.Scope);

            
            #line default
            #line hidden
WriteLiteral("s. Any expressions within the Template&nbsp;PDF will be evaluated within the <a");

WriteAttribute("href", Tuple.Create(" href=\"", 6035), Tuple.Create("\"", 6141)
            
            #line 126 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                                       , Tuple.Create(Tuple.Create("", 6042), Tuple.Create<System.Object, System.Int32>(Url.Action(MVC.Config.DocumentTemplate.ExpressionBrowser())
            
            #line default
            #line hidden
, 6042), false)
, Tuple.Create(Tuple.Create("", 6104), Tuple.Create("#", 6104), true)
            
            #line 126 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                                                                                                      , Tuple.Create(Tuple.Create("", 6105), Tuple.Create<System.Object, System.Int32>(Model.DocumentTemplate.Scope
            
            #line default
            #line hidden
, 6105), false)
, Tuple.Create(Tuple.Create("", 6136), Tuple.Create("Scope", 6136), true)
);

WriteLiteral(">");

            
            #line 126 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                                                                                                                                                                                                                       Write(Model.DocumentTemplate.Scope);

            
            #line default
            #line hidden
WriteLiteral(" Scope</a>.\r\n                            </p>\r\n                        </div>\r\n  " +
"                      <div>\r\n                            <button");

WriteLiteral(" id=\"Config_DocumentTemplates_Scope_Button\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(">Change Scope</button>\r\n                        </div>\r\n");

            
            #line 132 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 132 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (canConfig)
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <div");

WriteLiteral(" id=\"Config_DocumentTemplates_Scope_Dialog\"");

WriteLiteral(" title=\"Change Document Template Scope\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(">\r\n");

            
            #line 135 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                
            
            #line default
            #line hidden
            
            #line 135 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                 using (Html.BeginForm(MVC.API.DocumentTemplate.UpdateScope(Model.DocumentTemplate.Id, redirect: true)))
                                {

            
            #line default
            #line hidden
WriteLiteral("                                    <div");

WriteLiteral(" class=\"input\"");

WriteLiteral(">\r\n                                        <label");

WriteLiteral(" for=\"Config_DocumentTemplates_Scope_Scope\"");

WriteLiteral(">Scope: </label>\r\n                                        <select");

WriteLiteral(" id=\"Config_DocumentTemplates_Scope_Scope\"");

WriteLiteral(" name=\"Scope\"");

WriteLiteral(">\r\n");

            
            #line 140 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                            
            
            #line default
            #line hidden
            
            #line 140 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                             foreach (var scope in Model.Scopes)
                                            {

            
            #line default
            #line hidden
WriteLiteral("                                                <option");

WriteAttribute("value", Tuple.Create(" value=\"", 7265), Tuple.Create("\"", 7279)
            
            #line 142 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
, Tuple.Create(Tuple.Create("", 7273), Tuple.Create<System.Object, System.Int32>(scope
            
            #line default
            #line hidden
, 7273), false)
);

WriteAttribute("selected", Tuple.Create(" selected=\"", 7280), Tuple.Create("\"", 7351)
            
            #line 142 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
  , Tuple.Create(Tuple.Create("", 7291), Tuple.Create<System.Object, System.Int32>(scope == Model.DocumentTemplate.Scope ? "selected" : null
            
            #line default
            #line hidden
, 7291), false)
);

WriteLiteral(">");

            
            #line 142 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                                          Write(scope);

            
            #line default
            #line hidden
WriteLiteral("</option>   \r\n");

            
            #line 143 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                            }

            
            #line default
            #line hidden
WriteLiteral("                                        </select>\r\n                              " +
"      </div>\r\n");

            
            #line 146 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                }

            
            #line default
            #line hidden
WriteLiteral("                                <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                                    <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                                        <i");

WriteLiteral(" class=\"fa fa-info-circle\"");

WriteLiteral("></i>Expressions within the Template PDF may need to be updated to reflect any ch" +
"anges to the Document Template Scope.\r\n                                    </p>\r" +
"\n                                </div>\r\n");

            
            #line 152 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                
            
            #line default
            #line hidden
            
            #line 152 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                 if (Model.DocumentTemplate.UsersLinkedGroup != null || Model.DocumentTemplate.DevicesLinkedGroup != null)
                                {

            
            #line default
            #line hidden
WriteLiteral("                                    <div");

WriteLiteral(" class=\"info-box error\"");

WriteLiteral(">\r\n                                        <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                                            <i");

WriteLiteral(" class=\"fa fa-exclamation-circle\"");

WriteLiteral(@"></i><strong>Warning:</strong> This Document Template contains Linked Groups, these will be automatically updated to reflect the new Document Template Scope which <strong>may result in undesired behaviour</strong>.
                                        </p>
                                    </div>
");

            
            #line 159 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                }

            
            #line default
            #line hidden
WriteLiteral("                            </div>\r\n");

WriteLiteral("                            <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n                                $(function () {\r\n                             " +
"       var dialog;\r\n\r\n                                    function showDialog() " +
"{\r\n                                        if (dialog == null) {\r\n              " +
"                              dialog = $(\'#Config_DocumentTemplates_Scope_Dialog" +
"\').dialog({\r\n                                                width: 400,\r\n      " +
"                                          resizable: false,\r\n                   " +
"                             modal: true,\r\n                                     " +
"           autoOpen: false,\r\n                                                but" +
"tons: {\r\n                                                    \'Save Changes\': fun" +
"ction () {\r\n                                                        dialog.dialo" +
"g(\'option\', \'buttons\', null);\r\n                                                 " +
"       dialog.dialog(\'disable\');\r\n                                              " +
"          $(\'#Config_DocumentTemplates_Scope_Scope\').closest(\'form\').submit();\r\n" +
"                                                    },\r\n                        " +
"                            \'Cancel\': function () {\r\n                           " +
"                             dialog.dialog(\'close\');\r\n                          " +
"                          }\r\n                                                }\r\n" +
"                                            });\r\n                               " +
"         }\r\n\r\n                                        dialog.dialog(\'open\');\r\n\r\n" +
"                                        return false;\r\n                         " +
"           }\r\n\r\n                                    $(\'#Config_DocumentTemplates" +
"_Scope_Button\').click(showDialog);\r\n                                });\r\n       " +
"                     </script>\r\n");

            
            #line 193 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                        ");

            
            #line 194 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (Model.DocumentTemplate.Scope == DocumentTemplate.DocumentTemplateScopes.Job)
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <hr />\r\n");

WriteLiteral("                            <h4>Job Type Filters:</h4>\r\n");

WriteLiteral("                            <div");

WriteLiteral(" id=\"Config_DocumentTemplates_JobSubTypes\"");

WriteLiteral(" ");

            
            #line 198 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                       Write(Model.DocumentTemplate.Scope != DocumentTemplate.DocumentTemplateScopes.Job ? "style=\"display: none;\" " : null);

            
            #line default
            #line hidden
WriteLiteral(">\r\n                                <div>\r\n");

            
            #line 200 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                    
            
            #line default
            #line hidden
            
            #line 200 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                     if (Model.DocumentTemplate.JobSubTypes.Count > 0)
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <ul>\r\n");

            
            #line 203 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                            
            
            #line default
            #line hidden
            
            #line 203 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                             foreach (var jobType in Model.DocumentTemplate.JobSubTypes.GroupBy(jst => jst.JobType).OrderBy(jtg => jtg.Key.Description))
                                            {

            
            #line default
            #line hidden
WriteLiteral("                                                <li>\r\n");

WriteLiteral("                                                    ");

            
            #line 206 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                               Write(jobType.Key.Description);

            
            #line default
            #line hidden
WriteLiteral("\r\n                                                    <ul>\r\n");

            
            #line 208 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                        
            
            #line default
            #line hidden
            
            #line 208 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                         if (jobType.Count() == Model.JobTypes.FirstOrDefault(jt => jt.Id == jobType.Key.Id).JobSubTypes.Count)
                                                        {

            
            #line default
            #line hidden
WriteLiteral("                                                            <li><span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">[All Sub Types]</span></li>\r\n");

            
            #line 211 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                        }
                                                        else
                                                        {
                                                            foreach (var jobSubType in jobType)
                                                            {

            
            #line default
            #line hidden
WriteLiteral("                                                            <li>");

            
            #line 216 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                           Write(jobSubType.Description);

            
            #line default
            #line hidden
WriteLiteral("</li>\r\n");

            
            #line 217 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                            }
                                                        }

            
            #line default
            #line hidden
WriteLiteral("                                                    </ul>\r\n                      " +
"                          </li>\r\n");

            
            #line 221 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                            }

            
            #line default
            #line hidden
WriteLiteral("                                        </ul>\r\n");

            
            #line 223 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                    }
                                    else
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;No Filter&gt;</span>\r\n");

            
            #line 227 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                    }

            
            #line default
            #line hidden
WriteLiteral("                                </div>\r\n");

            
            #line 229 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                
            
            #line default
            #line hidden
            
            #line 229 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                 if (canConfig)
                                {

            
            #line default
            #line hidden
WriteLiteral("                                    <a");

WriteLiteral(" id=\"Config_DocumentTemplates_JobSubTypes_Update\"");

WriteLiteral(" href=\"#\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(">Update</a>\r\n");

WriteLiteral("                                    <div");

WriteLiteral(" id=\"Config_DocumentTemplates_JobSubTypes_Update_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Job Type Filter\"");

WriteLiteral(">\r\n");

            
            #line 233 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                        
            
            #line default
            #line hidden
            
            #line 233 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                         using (Html.BeginForm(MVC.API.DocumentTemplate.UpdateJobSubTypes(Model.DocumentTemplate.Id, null, true)))
                                        {
                                            var selectedTypes = Model.DocumentTemplate.JobSubTypes.Select(jst => jst.JobType).Distinct().ToList();
                                            foreach (var jt in Model.JobTypes)
                                            {

            
            #line default
            #line hidden
WriteLiteral("                                            <div");

WriteLiteral(" class=\"jobTypes\"");

WriteLiteral(">\r\n                                                <h4>\r\n                        " +
"                            <input");

WriteAttribute("id", Tuple.Create(" id=\"", 13995), Tuple.Create("\"", 14014)
, Tuple.Create(Tuple.Create("", 14000), Tuple.Create("Types_", 14000), true)
            
            #line 240 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
, Tuple.Create(Tuple.Create("", 14006), Tuple.Create<System.Object, System.Int32>(jt.Id
            
            #line default
            #line hidden
, 14006), false)
);

WriteLiteral(" class=\"jobType\"");

WriteLiteral(" type=\"checkbox\"");

WriteAttribute("value", Tuple.Create(" value=\"", 14047), Tuple.Create("\"", 14063)
            
            #line 240 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                      , Tuple.Create(Tuple.Create("", 14055), Tuple.Create<System.Object, System.Int32>(jt.Id
            
            #line default
            #line hidden
, 14055), false)
);

WriteLiteral(" ");

            
            #line 240 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                            Write(selectedTypes.Contains(jt) ? "checked=\"checked\"" : null);

            
            #line default
            #line hidden
WriteLiteral(" /><label");

WriteAttribute("for", Tuple.Create(" for=\"", 14134), Tuple.Create("\"", 14154)
, Tuple.Create(Tuple.Create("", 14140), Tuple.Create("Types_", 14140), true)
            
            #line 240 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                                 , Tuple.Create(Tuple.Create("", 14146), Tuple.Create<System.Object, System.Int32>(jt.Id
            
            #line default
            #line hidden
, 14146), false)
);

WriteLiteral(">");

            
            #line 240 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                                                                                                                      Write(jt.Description);

            
            #line default
            #line hidden
WriteLiteral("</label></h4>\r\n                                                <div");

WriteAttribute("id", Tuple.Create(" id=\"", 14238), Tuple.Create("\"", 14260)
, Tuple.Create(Tuple.Create("", 14243), Tuple.Create("SubTypes_", 14243), true)
            
            #line 241 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
, Tuple.Create(Tuple.Create("", 14252), Tuple.Create<System.Object, System.Int32>(jt.Id
            
            #line default
            #line hidden
, 14252), false)
);

WriteLiteral(" class=\"jobSubTypes\"");

WriteLiteral(">\r\n");

WriteLiteral("                                                    ");

            
            #line 242 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                               Write(CommonHelpers.CheckboxBulkSelect(string.Format("CheckboxBulkSelect_{0}", jt.Id), "div"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

WriteLiteral("                                                    ");

            
            #line 243 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                               Write(CommonHelpers.CheckBoxList("JobSubTypes", jt.JobSubTypes.OrderBy(jst => jst.Description).ToSelectListItems(Model.DocumentTemplate.JobSubTypes), 2));

            
            #line default
            #line hidden
WriteLiteral("\r\n                                                </div>\r\n                       " +
"                     </div>   \r\n");

            
            #line 246 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                            }
                                        }

            
            #line default
            #line hidden
WriteLiteral("                                    </div>\r\n");

WriteLiteral("                                    <script>\r\n                                   " +
"     (function () {\r\n                                            var dialog;\r\n\r\n" +
"                                            function showDialog() {\r\n           " +
"                                     if (!dialog) {\r\n                           " +
"                         dialog = $(\'#Config_DocumentTemplates_JobSubTypes_Updat" +
"e_Dialog\').dialog({\r\n                                                        res" +
"izable: false,\r\n                                                        modal: t" +
"rue,\r\n                                                        autoOpen: false,\r\n" +
"                                                        width: 750,\r\n           " +
"                                             height: 580,\r\n                     " +
"                                   buttons: {\r\n                                 " +
"                           \"Save Changes\": saveChanges,\r\n                       " +
"                                     Cancel: cancel\r\n                           " +
"                             }\r\n                                                " +
"    });\r\n\r\n                                                    dialog.find(\'.job" +
"SubTypes\').hide();\r\n                                                    dialog.o" +
"n(\'change\', \'input.jobType\', function () {\r\n                                    " +
"                    var $this = $(this);\r\n                                      " +
"                  if ($this.is(\':checked\'))\r\n                                   " +
"                         $(\'#SubTypes_\' + $this.val()).slideDown(\'fast\');\r\n     " +
"                                                   else\r\n                       " +
"                                     $(\'#SubTypes_\' + $this.val()).slideUp(\'fast" +
"\');\r\n                                                    }).find(\'input.jobType:" +
"checked\').each(function () {\r\n                                                  " +
"      $(\'#SubTypes_\' + $(this).val()).show();\r\n                                 " +
"                   });\r\n                                                }\r\n\r\n   " +
"                                             dialog.dialog(\'open\');\r\n\r\n         " +
"                                       return false;\r\n                          " +
"                  }\r\n\r\n                                            function canc" +
"el() {\r\n                                                dialog.dialog(\"disable\")" +
";\r\n                                                dialog.dialog(\"option\", \"butt" +
"ons\", null);\r\n\r\n                                                // Refresh Page\r" +
"\n                                                window.location.reload(true);\r\n" +
"                                            }\r\n\r\n                               " +
"             function saveChanges() {\r\n                                         " +
"       var form = dialog.find(\'form\');\r\n\r\n                                      " +
"          $(\'input.jobType:unchecked\').each(function () {\r\n                     " +
"                               $(\'#SubTypes_\' + $(this).val()).find(\'input\').pro" +
"p(\'checked\', false);\r\n                                                });\r\n\r\n   " +
"                                             form.submit();\r\n\r\n                 " +
"                               dialog.dialog(\"disable\");\r\n                      " +
"                          dialog.dialog(\"option\", \"buttons\", null);\r\n           " +
"                                 }\r\n\r\n                                          " +
"  $(function () {\r\n                                                $(\'#Config_Do" +
"cumentTemplates_JobSubTypes_Update\').click(showDialog);\r\n                       " +
"                     });\r\n\r\n                                        })();\r\n     " +
"                               </script>\r\n");

            
            #line 311 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                }

            
            #line default
            #line hidden
WriteLiteral("                            </div>\r\n");

            
            #line 313 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </td>\r\n                </tr>\r\n                <tr>\r\n         " +
"           <th>PDF Template\r\n                    </th>\r\n                    <td>" +
"\r\n");

WriteLiteral("                        ");

            
            #line 320 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(Html.ActionLinkSmallButton("Download Template", MVC.API.DocumentTemplate.Template(Model.DocumentTemplate.Id)));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 321 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 321 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (canConfig && Authorization.Has(Claims.Config.DocumentTemplate.Upload))
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <button");

WriteLiteral(" class=\"button small\"");

WriteLiteral(" id=\"Config_DocumentTemplates_TemplatePdf_Button\"");

WriteLiteral(">Replace Template</button>\r\n");

WriteLiteral("                            <div");

WriteLiteral(" id=\"Config_DocumentTemplates_TemplatePdf_Dialog\"");

WriteLiteral(" title=\"Replace Document PDF Template\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(">\r\n                                <h4>Select a PDF Template to upload:</h4>\r\n   " +
"                             <div>\r\n");

            
            #line 327 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                    
            
            #line default
            #line hidden
            
            #line 327 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                     using (Html.BeginForm(MVC.API.DocumentTemplate.Template(Model.DocumentTemplate.Id, true, null), FormMethod.Post, new { enctype = "multipart/form-data" }))
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <input");

WriteLiteral(" type=\"file\"");

WriteLiteral(" name=\"Template\"");

WriteLiteral(" id=\"Config_DocumentTemplates_TemplatePdf_Template\"");

WriteLiteral(" style=\"width: 250px;\"");

WriteLiteral(" />\r\n");

            
            #line 330 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                    }

            
            #line default
            #line hidden
WriteLiteral("                                </div>\r\n                            </div>\r\n");

WriteLiteral("                            <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n                                $(function () {\r\n                             " +
"       var dialog, template;\r\n\r\n                                    function sho" +
"wDialog() {\r\n                                        if (dialog == null) {\r\n    " +
"                                        template = $(\'#Config_DocumentTemplates_" +
"TemplatePdf_Template\');\r\n\r\n                                            dialog = " +
"$(\'#Config_DocumentTemplates_TemplatePdf_Dialog\').dialog({\r\n                    " +
"                            width: 350,\r\n                                       " +
"         resizable: false,\r\n                                                moda" +
"l: true,\r\n                                                autoOpen: false,\r\n    " +
"                                            buttons: {\r\n                        " +
"                            \'Upload\': function () {\r\n                           " +
"                             if (template.val() == \'\') {\r\n                      " +
"                                      alert(\'A template file is required to uplo" +
"ad.\');\r\n                                                        } else {\r\n      " +
"                                                      dialog.dialog(\'option\', \'b" +
"uttons\', null);\r\n                                                            dia" +
"log.dialog(\'disable\');\r\n                                                        " +
"    template.closest(\'form\').submit();\r\n                                        " +
"                }\r\n                                                    },\r\n     " +
"                                               \'Cancel\': function () {\r\n        " +
"                                                dialog.dialog(\'close\');\r\n       " +
"                                             }\r\n                                " +
"                }\r\n                                            });\r\n            " +
"                            }\r\n\r\n                                        dialog." +
"dialog(\'open\');\r\n\r\n                                        return false;\r\n      " +
"                              }\r\n\r\n                                    $(\'#Confi" +
"g_DocumentTemplates_TemplatePdf_Button\').click(showDialog);\r\n                   " +
"             });\r\n                            </script>\r\n");

            
            #line 371 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </td>\r\n                </tr>\r\n");

            
            #line 374 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 374 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                 if (hideAdvanced)
                {

            
            #line default
            #line hidden
WriteLiteral("                    <tr>\r\n                        <td");

WriteLiteral(" colspan=\"2\"");

WriteLiteral(" style=\"text-align: right;\"");

WriteLiteral(">\r\n                            <button");

WriteLiteral(" id=\"Config_HideAdvanced_Show\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(@">Show Advanced Options</button>
                            <script>
                                $(function () {
                                    $('#Config_HideAdvanced_Show').click(function () {
                                        var $this = $(this);
                                        $this.closest('.Config_HideAdvanced').removeClass('Config_HideAdvanced');
                                        $this.closest('tr').remove();
                                    });
                                });
                            </script>
                        </td>
                    </tr>
");

            
            #line 390 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("            </tbody>\r\n        </table>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"form Config_HideAdvanced_Item\"");

WriteLiteral(" style=\"width: 650px;\"");

WriteLiteral(">\r\n        <h2>Advanced Options</h2>\r\n        <table>\r\n            <tbody>\r\n     " +
"           <tr>\r\n                    <th>Filter Expression:\r\n                   " +
" </th>\r\n                    <td>");

            
            #line 401 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (canConfig && Authorization.Has(Claims.Config.DocumentTemplate.ConfigureFilterExpression))
                        {
                        
            
            #line default
            #line hidden
            
            #line 403 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(Html.EditorFor(model => model.DocumentTemplate.FilterExpression));

            
            #line default
            #line hidden
            
            #line 403 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                         
                        
            
            #line default
            #line hidden
            
            #line 404 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxRemove());

            
            #line default
            #line hidden
            
            #line 404 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 
                        
            
            #line default
            #line hidden
            
            #line 405 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 405 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                               
                        
            
            #line default
            #line hidden
            
            #line 406 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 406 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 

            
            #line default
            #line hidden
WriteLiteral("                        <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                            $(function () {
                                var field = $('#DocumentTemplate_FilterExpression');
                                var fieldRemove = field.next('.ajaxRemove');
                                var fieldOriginalWidth, fieldOriginalHeight;

                                document.DiscoFunctions.PropertyChangeHelper(
                                    field,
                                    'None',
                                    '");

            
            #line 416 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                Write(Url.Action(MVC.API.DocumentTemplate.UpdateFilterExpression(Model.DocumentTemplate.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                    \'FilterExpression\'\r\n                     " +
"           );\r\n\r\n                                field.focus(function () {\r\n    " +
"                                fieldOriginalWidth = field.width();\r\n           " +
"                         fieldOriginalHeight = field.height();\r\n                " +
"                    field.css(\'overflow\', \'visible\').animate({ width: field.pare" +
"nt().width() - 42, height: 75 }, 200);\r\n                                }).blur(" +
"function () {\r\n                                    field.css(\'overflow\', \'hidden" +
"\').animate({ width: fieldOriginalWidth, height: fieldOriginalHeight }, 200);\r\n  " +
"                              }).change(function () {\r\n                         " +
"           if (!!field.val()) {\r\n                                        fieldRe" +
"move.show();\r\n                                    } else {\r\n                    " +
"                    fieldRemove.hide();\r\n                                    }\r\n" +
"                                }).attr(\'placeholder\', \'None\').attr(\'spellcheck\'" +
", \'false\');\r\n\r\n                                fieldRemove.click(function () {\r\n" +
"                                    field.val(\'\').change();\r\n                   " +
"             });\r\n\r\n                                if (!!field.val()) {\r\n      " +
"                              fieldRemove.show();\r\n                             " +
"   } else {\r\n                                    fieldRemove.hide();\r\n          " +
"                      }\r\n                            });\r\n                      " +
"  </script>\r\n");

            
            #line 445 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }
                        else
                        {
                            if (string.IsNullOrWhiteSpace(Model.DocumentTemplate.FilterExpression))
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;None Specified&gt;</span>\r\n");

            
            #line 451 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            }
                            else
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"code\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 455 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                       Write(Model.DocumentTemplate.FilterExpression);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n");

            
            #line 457 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            }
                        }

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                            <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                                <i");

WriteLiteral(" class=\"fa fa-fw fa-info-circle\"");

WriteLiteral(@"></i>This expression will be evaluated to determine if this template is shown in the <em>Generate Document</em> drop-down list.
                            </p>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>On Generated Expression:
                    </th>
                    <td>");

            
            #line 469 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (canConfig && Authorization.Has(Claims.Config.DocumentTemplate.ConfigureFilterExpression))
                        {
                        
            
            #line default
            #line hidden
            
            #line 471 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(Html.EditorFor(model => model.DocumentTemplate.OnGenerateExpression));

            
            #line default
            #line hidden
            
            #line 471 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                             
                        
            
            #line default
            #line hidden
            
            #line 472 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxRemove());

            
            #line default
            #line hidden
            
            #line 472 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 
                        
            
            #line default
            #line hidden
            
            #line 473 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 473 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                               
                        
            
            #line default
            #line hidden
            
            #line 474 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 474 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 

            
            #line default
            #line hidden
WriteLiteral("                        <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                            $(function () {
                                var field = $('#DocumentTemplate_OnGenerateExpression');
                                var fieldRemove = field.next('.ajaxRemove');
                                var fieldOriginalWidth, fieldOriginalHeight;

                                document.DiscoFunctions.PropertyChangeHelper(
                                    field,
                                    'None',
                                    '");

            
            #line 484 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                Write(Url.Action(MVC.API.DocumentTemplate.UpdateOnGenerateExpression(Model.DocumentTemplate.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                    \'OnGenerateExpression\'\r\n                 " +
"               );\r\n\r\n                                field.focus(function () {\r\n" +
"                                    fieldOriginalWidth = field.width();\r\n       " +
"                             fieldOriginalHeight = field.height();\r\n            " +
"                        field.css(\'overflow\', \'visible\').animate({ width: field." +
"parent().width() - 42, height: 75 }, 200);\r\n                                }).b" +
"lur(function () {\r\n                                    field.css(\'overflow\', \'hi" +
"dden\').animate({ width: fieldOriginalWidth, height: fieldOriginalHeight }, 200);" +
"\r\n                                }).change(function () {\r\n                     " +
"               if (!!field.val()) {\r\n                                        fie" +
"ldRemove.show();\r\n                                    } else {\r\n                " +
"                        fieldRemove.hide();\r\n                                   " +
" }\r\n                                }).attr(\'placeholder\', \'None\').attr(\'spellch" +
"eck\', \'false\');\r\n\r\n                                fieldRemove.click(function ()" +
" {\r\n                                    field.val(\'\').change();\r\n               " +
"                 });\r\n\r\n                                if (!!field.val()) {\r\n  " +
"                                  fieldRemove.show();\r\n                         " +
"       } else {\r\n                                    fieldRemove.hide();\r\n      " +
"                          }\r\n                            });\r\n                  " +
"      </script>\r\n");

            
            #line 513 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }
                        else
                        {
                            if (string.IsNullOrWhiteSpace(Model.DocumentTemplate.OnGenerateExpression))
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;None Specified&gt;</span>\r\n");

            
            #line 519 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            }
                            else
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"code\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 523 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                       Write(Model.DocumentTemplate.OnGenerateExpression);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n");

            
            #line 525 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            }
                        }

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                            <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                                <i");

WriteLiteral(" class=\"fa fa-fw fa-info-circle\"");

WriteLiteral(@"></i>This expression will be evaluated each time a document is generated from this template.
                            </p>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>On Import Expression:
                    </th>
                    <td>");

            
            #line 537 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                         if (canConfig && Authorization.Has(Claims.Config.DocumentTemplate.ConfigureFilterExpression))
                        {
                        
            
            #line default
            #line hidden
            
            #line 539 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(Html.EditorFor(model => model.DocumentTemplate.OnImportAttachmentExpression));

            
            #line default
            #line hidden
            
            #line 539 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                     
                        
            
            #line default
            #line hidden
            
            #line 540 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxRemove());

            
            #line default
            #line hidden
            
            #line 540 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 
                        
            
            #line default
            #line hidden
            
            #line 541 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 541 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                               
                        
            
            #line default
            #line hidden
            
            #line 542 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                   Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 542 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                 

            
            #line default
            #line hidden
WriteLiteral("                        <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                            $(function () {
                                var field = $('#DocumentTemplate_OnImportAttachmentExpression');
                                var fieldRemove = field.next('.ajaxRemove');
                                var fieldOriginalWidth, fieldOriginalHeight;

                                document.DiscoFunctions.PropertyChangeHelper(
                                    field,
                                    'None',
                                    '");

            
            #line 552 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                Write(Url.Action(MVC.API.DocumentTemplate.UpdateOnImportAttachmentExpression(Model.DocumentTemplate.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                    \'OnImportAttachmentExpression\'\r\n         " +
"                       );\r\n\r\n                                field.focus(functio" +
"n () {\r\n                                    fieldOriginalWidth = field.width();\r" +
"\n                                    fieldOriginalHeight = field.height();\r\n    " +
"                                field.css(\'overflow\', \'visible\').animate({ width" +
": field.parent().width() - 42, height: 75 }, 200);\r\n                            " +
"    }).blur(function () {\r\n                                    field.css(\'overfl" +
"ow\', \'hidden\').animate({ width: fieldOriginalWidth, height: fieldOriginalHeight " +
"}, 200);\r\n                                }).change(function () {\r\n             " +
"                       if (!!field.val()) {\r\n                                   " +
"     fieldRemove.show();\r\n                                    } else {\r\n        " +
"                                fieldRemove.hide();\r\n                           " +
"         }\r\n                                }).attr(\'placeholder\', \'None\').attr(" +
"\'spellcheck\', \'false\');\r\n\r\n                                fieldRemove.click(fun" +
"ction () {\r\n                                    field.val(\'\').change();\r\n       " +
"                         });\r\n\r\n                                if (!!field.val(" +
")) {\r\n                                    fieldRemove.show();\r\n                 " +
"               } else {\r\n                                    fieldRemove.hide();" +
"\r\n                                }\r\n                            });\r\n          " +
"              </script>\r\n");

            
            #line 581 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        }
                        else
                        {
                            if (string.IsNullOrWhiteSpace(Model.DocumentTemplate.OnImportAttachmentExpression))
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;None Specified&gt;</span>\r\n");

            
            #line 587 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            }
                            else
                            {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"code\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 591 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                       Write(Model.DocumentTemplate.OnImportAttachmentExpression);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n");

            
            #line 593 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            }
                        }

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                            <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                                <i");

WriteLiteral(" class=\"fa fa-fw fa-info-circle\"");

WriteLiteral(@"></i>This expression will be evaluated each time a document is imported (as an attachment) where it is determined the document was based on this template.
                            </p>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>Linked Groups:
                    </th>
                    <td>
                        <div>
");

WriteLiteral("                            ");

            
            #line 607 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                       Write(Html.Partial(MVC.Config.Shared.Views.LinkedGroupInstance, new LinkedGroupModel()
               {
                   CanConfigure = canConfig,
                   CategoryDescription = DocumentTemplateUsersManagedGroup.GetCategoryDescription(Model.DocumentTemplate),
                   Description = DocumentTemplateUsersManagedGroup.GetDescription(Model.DocumentTemplate),
                   ManagedGroup = Model.UsersLinkedGroup,
                   UpdateUrl = Url.Action(MVC.API.DocumentTemplate.UpdateUsersLinkedGroup(Model.DocumentTemplate.Id, redirect: true))
               }));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

WriteLiteral("                            ");

            
            #line 615 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                       Write(Html.Partial(MVC.Config.Shared.Views.LinkedGroupInstance, new LinkedGroupModel()
               {
                   CanConfigure = canConfig,
                   CategoryDescription = DocumentTemplateDevicesManagedGroup.GetCategoryDescription(Model.DocumentTemplate),
                   Description = DocumentTemplateDevicesManagedGroup.GetDescription(Model.DocumentTemplate),
                   ManagedGroup = Model.DevicesLinkedGroup,
                   UpdateUrl = Url.Action(MVC.API.DocumentTemplate.UpdateDevicesLinkedGroup(Model.DocumentTemplate.Id, redirect: true))
               }));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 623 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                            
            
            #line default
            #line hidden
            
            #line 623 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                             if (canConfig)
                            {
                                
            
            #line default
            #line hidden
            
            #line 625 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                           Write(Html.Partial(MVC.Config.Shared.Views.LinkedGroupShared));

            
            #line default
            #line hidden
            
            #line 625 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                        
                            }

            
            #line default
            #line hidden
WriteLiteral("                        </div>\r\n                    </td>\r\n                </tr>\r" +
"\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"Config_HideAdvanced_Item\"");

WriteLiteral(">\r\n        <h2>Template Expressions</h2>\r\n");

WriteLiteral("        ");

            
            #line 635 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
   Write(Html.Partial(MVC.Config.DocumentTemplate.Views._ExpressionsTable, Model.TemplateExpressions));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </div>\r\n</div>\r\n<div");

WriteLiteral(" id=\"dialogConfirmDelete\"");

WriteLiteral(" title=\"Delete this Document Template?\"");

WriteLiteral(">\r\n    <p>\r\n        <i");

WriteLiteral(" class=\"fa fa-exclamation-triangle fa-lg warning\"");

WriteLiteral(@"></i>This item will be permanently deleted and cannot be recovered.<br />
        <em>This <strong>will not delete attachments</strong> which have already been imported,
            but any generated documents will no longer be automatically imported.</em><br />
        Are you sure?
    </p>
</div>
<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
    $(function () {
        var button = $('#buttonDelete');
        var buttonDialog = $(""#dialogConfirmDelete"");
        var buttonLink = button.attr('href');
        button.attr('href', '#');
        button.click(function () {
            buttonDialog.dialog('open');
            return false;
        });
        buttonDialog.dialog({
            resizable: false,
            modal: true,
            autoOpen: false,
            buttons: {
                ""Delete"": function () {
                    $this = $(this);
                    $this.dialog('disable');
                    $this.dialog(""option"", ""buttons"", null);
                    window.location.href = buttonLink;
                },
                Cancel: function () {
                    $(this).dialog(""close"");
                }
            }
        });

    });
</script>
<div");

WriteLiteral(" class=\"actionBar\"");

WriteLiteral(">\r\n");

            
            #line 676 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
    
            
            #line default
            #line hidden
            
            #line 676 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
     if (Authorization.Has(Claims.Config.Show))
    {
        
            
            #line default
            #line hidden
            
            #line 678 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
   Write(Html.ActionLinkButton("Expression Browser", MVC.Config.DocumentTemplate.ExpressionBrowser()));

            
            #line default
            #line hidden
            
            #line 678 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                     
    }

            
            #line default
            #line hidden
WriteLiteral("    ");

            
            #line 680 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
     if (canBulkGenerate)
    {

            
            #line default
            #line hidden
WriteLiteral("        <a");

WriteLiteral(" id=\"buttonBulkGenerate\"");

WriteLiteral(" href=\"#\"");

WriteLiteral(" class=\"button\"");

WriteLiteral(">Bulk Generate</a>\r\n");

WriteLiteral("        <div");

WriteLiteral(" id=\"dialogBulkGenerate\"");

WriteLiteral(" class=\"hiddenDialog\"");

WriteAttribute("title", Tuple.Create(" title=\"", 38153), Tuple.Create("\"", 38204)
, Tuple.Create(Tuple.Create("", 38161), Tuple.Create("Bulk", 38161), true)
, Tuple.Create(Tuple.Create(" ", 38165), Tuple.Create("Generate:", 38166), true)
            
            #line 683 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
, Tuple.Create(Tuple.Create(" ", 38175), Tuple.Create<System.Object, System.Int32>(Model.DocumentTemplate.Id
            
            #line default
            #line hidden
, 38176), false)
);

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"brief\"");

WriteLiteral(">\r\n");

            
            #line 685 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 685 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                 switch (Model.DocumentTemplate.Scope)
                {
                    case "Device":

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n                        Enter multiple <span");

WriteLiteral(" class=\"scopeDescBulkGenerate\"");

WriteLiteral(">Device Serial Numbers</span> separated by <code>&lt;new line&gt;</code>, commas " +
"(<code>,</code>) or semicolons (<code>;</code>).\r\n                    </div>\r\n");

WriteLiteral("                    <div");

WriteLiteral(" class=\"examples clearfix\"");

WriteLiteral(">\r\n                        <h4>Examples:</h4>\r\n                        <div");

WriteLiteral(" class=\"example1 code\"");

WriteLiteral(">01234567<br />\r\n                            ABCD9876<br />\r\n                    " +
"        8VQ6G2R</div>\r\n                        <div");

WriteLiteral(" class=\"example2 code\"");

WriteLiteral(">01234567,ABCD9876,8VQ6G2R</div>\r\n                        <div");

WriteLiteral(" class=\"example3 code\"");

WriteLiteral(">01234567;ABCD9876;8VQ6G2R</div>\r\n                    </div>\r\n");

            
            #line 699 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        break;
                    case "Job":

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n                        Enter multiple <span");

WriteLiteral(" class=\"scopeDescBulkGenerate\"");

WriteLiteral(">Job Ids</span> separated by <code>&lt;new line&gt;</code>, commas (<code>,</code" +
">) or semicolons (<code>;</code>).\r\n                    </div>\r\n");

WriteLiteral("                    <div");

WriteLiteral(" class=\"examples clearfix\"");

WriteLiteral(">\r\n                        <h4>Examples:</h4>\r\n                        <div");

WriteLiteral(" class=\"example1 code\"");

WriteLiteral(">86<br />\r\n                            99<br />\r\n                            44</" +
"div>\r\n                        <div");

WriteLiteral(" class=\"example2 code\"");

WriteLiteral(">86,99,44</div>\r\n                        <div");

WriteLiteral(" class=\"example3 code\"");

WriteLiteral(">86;99;44</div>\r\n                    </div>\r\n");

            
            #line 712 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        break;
                    case "User":

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n                        Enter multiple <span");

WriteLiteral(" class=\"scopeDescBulkGenerate\"");

WriteLiteral(">User Ids</span> separated by <code>&lt;new line&gt;</code>, commas (<code>,</cod" +
"e>) or semicolons (<code>;</code>).\r\n                    </div>\r\n");

WriteLiteral("                    <div");

WriteLiteral(" class=\"examples clearfix\"");

WriteLiteral(">\r\n                        <h4>Examples:</h4>\r\n                        <div");

WriteLiteral(" class=\"example1 code\"");

WriteLiteral(">user6<br />\r\n                            smi0099<br />");

            
            #line 720 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                     Write(ActiveDirectory.Context.PrimaryDomain.NetBiosName);

            
            #line default
            #line hidden
WriteLiteral("\\rsmith</div>\r\n                        <div");

WriteLiteral(" class=\"example2 code\"");

WriteLiteral(">user6,smi0099,");

            
            #line 721 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                             Write(ActiveDirectory.Context.PrimaryDomain.NetBiosName);

            
            #line default
            #line hidden
WriteLiteral("\\rsmith</div>\r\n                        <div");

WriteLiteral(" class=\"example3 code\"");

WriteLiteral(">user6;smi0099;");

            
            #line 722 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                             Write(ActiveDirectory.Context.PrimaryDomain.NetBiosName);

            
            #line default
            #line hidden
WriteLiteral("\\rsmith</div>\r\n                    </div>\r\n");

            
            #line 724 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                        break;
                }

            
            #line default
            #line hidden
WriteLiteral("            </div>\r\n");

            
            #line 727 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
            
            
            #line default
            #line hidden
            
            #line 727 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
             using (Html.BeginForm(MVC.API.DocumentTemplate.BulkGenerate(Model.DocumentTemplate.Id), FormMethod.Post))
            {

            
            #line default
            #line hidden
WriteLiteral("                <div");

WriteLiteral(" class=\"field-validation-valid\"");

WriteLiteral(" data-valmsg-replace=\"true\"");

WriteLiteral(" data-valmsg-for=\"DataIds\"");

WriteLiteral("></div>\r\n");

WriteLiteral("                <textarea");

WriteLiteral(" id=\"inputBulkGenerateDataIds\"");

WriteLiteral(" name=\"DataIds\"");

WriteLiteral(" data-val=\"true\"");

WriteLiteral(" data-val-required=\"Identifiers are required\"");

WriteLiteral("></textarea>\r\n");

            
            #line 731 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
            }

            
            #line default
            #line hidden
WriteLiteral("        </div>\r\n");

            
            #line 733 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"


            
            #line default
            #line hidden
WriteLiteral(@"        <script>
            $(function () {
                var dialog;

                $('#buttonBulkGenerate').click(function () {
                    if (!dialog) {
                        dialog = $('#dialogBulkGenerate').dialog({
                            resizable: false,
                            modal: true,
                            autoOpen: false,
                            width: 460,
                            buttons: {
                                ""Bulk Generate"": function () {
                                    dialog.find('form').submit();
                                    dialog.dialog(""disable"");
                                },
                                Close: function () {
                                    $(this).dialog(""close"");
                                }
                            }
                        });

                        $.validator.unobtrusive.reparse('#inputBulkGenerateDataIds');
                    }

                    dialog.dialog('open');
                    return false;
                });
            });
        </script>
");

            
            #line 764 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
    }

            
            #line default
            #line hidden
WriteLiteral("    ");

            
            #line 765 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
     if (Authorization.Has(Claims.Config.DocumentTemplate.Delete))
    {
        
            
            #line default
            #line hidden
            
            #line 767 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
   Write(Html.ActionLinkButton("Delete", MVC.API.DocumentTemplate.Delete(Model.DocumentTemplate.Id, true), "buttonDelete"));

            
            #line default
            #line hidden
            
            #line 767 "..\..\Areas\Config\Views\DocumentTemplate\Show.cshtml"
                                                                                                                          
    }

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n");

        }
    }
}
#pragma warning restore 1591
